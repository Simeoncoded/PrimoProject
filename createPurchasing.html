<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CrossFire - Create Purchasing</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <div class="content">
    <button type="button" class="btn btn-danger btn-floating btn-lg" id="btn-back-to-top">
        <i class="fas fa-arrow-up"></i>
    </button>

    <nav class="navbar navbar-expand-lg navsty">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.html">
                <img src="assets/images/crlogo.png" alt="Crossfire Logo" width="120">
            </a>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Dashboard</a>
                    </li>
                    <li>
                        <a class="nav-link" href="ncrlog.html">NCR LOG</a>
                    </li>
                    <li class="nav-item sl">
                        <a class="nav-link" href="create.html">Create NCR</a>
                    </li>
                    <li class="nav-item dropdown sr">
                        <a
                            class="nav-link dropdown-toggle"
                            href="#"
                            id="notificationDropdown"
                            role="button"
                            data-bs-toggle="dropdown"
                            aria-expanded="false"
                        >
                            <i class="fa fa-bell" aria-hidden="true"></i>
                            <span id="notification-counter" class="badge bg-danger">3</span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="notificationDropdown">
                            <li>
                                <a class="dropdown-item" href="engineering.html">
                                    <i class="fa-solid fa-arrow-right"></i> Engineering Section
                                </a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="createPurchasing.html">
                                    <i class="fa-solid fa-arrow-right"></i> Purchasing Section
                                </a>
                            </li>
                          
                        </ul>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" href="login.html">
                            <i class="fa-solid fa-user"></i>
                        </a>
                    </li>
    
                    <li class="nav-item">
                        <a class="nav-link" href="email.html">
                            <i class="fa-solid fa-envelope"></i>
                            <span id="email-counter" class="badge bg-danger">0</span>
                        </a>
                    </li>
    
                    <li class="nav-item">
                        <a class="nav-link" href="report.html">Report</a>
                    </li>
                    <button id="logoutButton">Logout</button>

                </ul>
            </div>
    
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
                aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon">+</span>
            </button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container my-5" id="main-content" tabindex="-1">
        <h2 class="mb-4 text-center">Create Purchasing</h2>
        <p style="text-align: center;font-weight: bold;">All fields with * (astericks) are required </p>
        <form id="ncrForm">

            <div class="row ">
                <!-- NCR No. -->
                <div class="col-12 col-md-6 mb-3">
                    <label for="ncr_no" class="form-label">NCR No.*</label>
                    <input type="text" class="form-control" id="ncr_no" name="ncr_no" aria-required="true"
                        placeholder="Enter NCR Number" readonly>
                    <span id="ncrNoError" class="text-danger" style="display: none; font-size: 0.9em;">NCR No. is
                        required.</span>
                </div>

                <!-- OP Date -->
                <div class="col-12 col-md-6 mb-3">
                    <label for="date" class="form-label">OP Date*</label>
                    <input type="date" class="form-control" id="date" name="date" aria-required="true">
                    <span id="dateError" class="text-danger" style="display: none; font-size: 0.9em;">Date is
                        required</span>
                    <span id="dateYearError" style="display: none; color: red; font-size: 0.9em;">Please select a valid
                        date in the current year.</span>
                </div>


            </div>

            <div class="row">
                <!-- Was the Car Raised? -->
                <div class="col-12 col-md-6 mb-3">
                    <fieldset>
                        <legend class="form-label fw-bold">Was the Car Raised?*</legend>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" id="carraised_yes" name="carraised"
                                value="Yes" aria-required="true">
                            <label class="form-check-label" for="carraised_yes">Yes</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" id="fcarraised_no" name="carraised"
                                value="No" aria-required="true">
                            <label class="form-check-label" for="carraised_no">No</label>
                        </div>
                        <span id="carraisedError" class="text-danger" style="display: none; font-size: 0.9em;">Please
                            select wether or not Follow up is required.</span>                        
                    </fieldset>
                </div>


                <!-- Supplier Name -->
                <div class="col-12 col-md-6 mb-3">
                    <label for="carnumber" class="form-label">Car Number:*</label>
                    <input type="number" class="form-control" id="carnumber" name="carnumber" aria-required="true"
                        placeholder="Enter Car Number">
                        <span id="carNoError" class="text-danger" style="display: none; font-size: 0.9em;">Car No. is
                            required.</span>                   
                </div>

            </div>



            <div class="row">
                <div class="col-12 col-md-6 mb-3">
                    <fieldset>
                        <legend class="form-label fw-bold">Is a Follow Up Required?*</legend>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" id="followrequired_yes" name="followrequired"
                                value="Yes" aria-required="true">
                            <label class="form-check-label" for="followrequired_yes">Yes</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" id="followrequired_no" name="followrequired"
                                value="No" aria-required="true">
                            <label class="form-check-label" for="followrequired_no">No</label>
                        </div>
                        <span id="followrequiredError" class="text-danger" style="display: none; font-size: 0.9em;">Please
                            select wether or not Follow up is required.</span>                     
                    </fieldset>
                </div>

                <div class="col-12 col-md-6 mb-3">
                    <label for="followtype" class="form-label">Follow Up Type?*</label>

                    <button id="openModalBtn" class="btn btn-primary">Add Follow Up Type</button>
                    <span id="followupError" class="text-danger" style="display: none; font-size: 0.9em;">Please Pick a
                        Supplier</span>
                    <select class="form-control" id="followtype" name="followtype" aria-required="true">
                        <option value="">Select a type</option>
                        <option value="acme_supplies">Acme Supplies</option>
                        <option value="green_goods">Green Goods Ltd.</option>
                        <option value="fast_track">Fast Track Supplies</option>
                        <option value="prime_sources">Prime Sources Inc.</option>
                        <option value="blue_ocean">Blue Ocean Trading</option>
                        <option value="world_wide">World Wide Distributors</option>
                        <option value="eco_trade">Eco Trade Partners</option>
                        <option value="luxury_goods">Luxury Goods International</option>
                        <option value="mega_supplies">Mega Supplies Co.</option>
                        <option value="top_choice">Top Choice Suppliers</option>
                    </select>
                    <span id="followupError" class="text-danger" style="display: none; font-size: 0.9em;">Pick a
                        Supplier</span>
                </div>
            </div>


            <div class="row">
                <!-- Follow up Expected Date-->
                <div class="col-12 col-md-6 mb-3">
                    <label for="followdate" class="form-label">Follow Up Expected Date*</label>
                    <input type="date" class="form-control" id="followdate" name="followdate" aria-required="true">
                    <span id="followdateError" class="text-danger" style="display: none; font-size: 0.9em;">Date is
                        required</span>
                    <span id="followUpdateError" style="display: none; color: red; font-size: 0.9em;">Please select a valid
                        date in the current year.</span>
                </div>    

                <div class="col-12 col-md-6 mb-3">
                    <label for="operationsmanager" class="form-label">Operations Manager Name*</label>
                    <input type="text" class="form-control" id="operationsmanagername" name="operationsmanagername"
                        aria-required="true" placeholder="Enter Operations Manager's Name">
                    <span id="operationsmanagerError" class="text-danger"
                        style="display: none; font-size: 0.9em;">Operations manager name is required</span>
                </div>            
            </div>
            <div class="row">
                <div class="col-12 col-md-6 mb-3">
                    <label for="preliminaryDecision" class="form-label">Preliminary Decision*</label>
                    <select id="preliminaryDecision" name="preliminaryDecision" class="form-select" aria-required="true">
                        <option value="" disabled selected>Select a decision</option>
                        <option value="approve">Approve</option>
                        <option value="reject">Reject</option>
                        <option value="hold">Hold</option>
                        <option value="escalate">Escalate</option>
                    </select>
                    <span id="preliminaryDecisionError" class="text-danger" style="display: none; font-size: 0.9em;">
                        Preliminary decision is required.
                    </span>
                </div>                
            </div>   
            <div>
                <button type="submit" class="btn btn-primary btnsub" id="btnSubmit">Submit</button>
                <button type="submit" class="btn btn-primary btnsub" id="btncreateSave">Save</button>
            </div>
            
        </form>



        <div id="supplierModal" class="modal" style="display: none;">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Add Supplier</h2>
                <form id="supplierForm">
                    <label for="supplierName">Supplier Name:</label>
                    <input type="text" id="supplierName" name="supplierName" class="form-control">
                    <button type="submit" class="btn btn-success mt-2">Add</button>
                </form>
            </div>
        </div>

    </main>
</div>
    <footer>
        <div class="footer-links">
            <a href="index.html">Dashboard</a>
            <a href="ncrlog.html">NCR LOG</a>
            <a href="create.html">Create NCR</a>
        </div>
        <p>&copy; 2024 . All rights reserved.</p>
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            function generateNcrNumber() {
                const year = new Date().getFullYear();
                const randomNum = Math.floor(Math.random() * 1000);
                const paddedNumber = randomNum.toString().padStart(3, '0');

                const ncrNumber = `${year}-${paddedNumber}`;
                return ncrNumber;
            }

            const ncrInput = document.getElementById("ncr_no");
            if (ncrInput) {
                ncrInput.value = generateNcrNumber();
                //changes the ncr no textbox to read able only
                ncrInput.setAttribute("disabled", true);
            }
        });
    </script>
  
    <script src="scripts/inspect.js"></script>
    <script src="scripts/script.js"></script>
    <script src="scripts/createpurchasevalidation.js"></script>
    <script src="scripts/users.js"></script>

    <!-- Bootstrap JS and dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>
</body>

</html>